#!/usr/bin/env bash
# kurbeScript - Start a local Kubernetes cluster, verify it's running, and list pods
# Author: Engr. Bethel Amadi

# Exit immediately if any command fails
set -e

# Check if Minikube is installed
if ! command -v minikube &> /dev/null; then
  echo "Minikube not found. Please install Minikube before running this script."
  exit 1
fi

# Check if kubectl is installed
if ! command -v kubectl &> /dev/null; then
  echo "kubectl not found. Please install kubectl before running this script."
  exit 1
fi

echo " Starting local Kubernetes cluster..."
minikube start

echo " Checking cluster info..."
kubectl cluster-info

echo " Retrieving available pods..."
kubectl get pods -A

echo " Kubernetes cluster setup completed successfully!"
